# コーデックスルール

## 運用原則
- 本ファイルを文書運用ルールの正本とする。
- 迷った場合は、再現性・保守性・可読性を優先する。
- 推測で確定せず、不明点は `TODO` として明示する。

## 命名規約
- ファイル名は英小文字のみ。
- 単語区切りは `kebab-case` に統一する。
- 拡張子は `.md` を使う。
- 順序が必要な場合のみ番号を付ける（例: `01-overview.md`）。

## 用語規約
- 用語は基本英語で統一し、コード上の識別子と対応させる。
- 本文説明は日本語でよいが、主要用語は英語を優先する。
- 初出時のみ `English term（日本語）` の併記を許可し、以降は英語表記を使う。
- 主要用語の正本は `docs/policy/glossary.md` とし、新規用語は先に追加する。
- コミットメッセージの型と書式は `docs/policy/commit-message.md` に従う。
- 新規文書の作成は、提案内容（タイトル/目的/構成案）を先に提示して合意を得てから行う。
- `glossary.md` の `Definition` は日本語記述を許可する。

## 事前合意ルール
- 既存文書を変更する前に、変更理由と差分案を先に提示しなければならない（MUST）。
- 合意が得られるまで、既存文書の編集を実行してはならない（MUST NOT）。
- 差分案には、対象ファイルと変更点の要約を含める。

## 文書構成規約
- 原則として以下の見出し順を使う。
  1. `## 目的`
  2. `## 対象範囲`
  3. `## 本文`
  4. `## 決定事項` または `## 手順`
- 箇条書きは同じ粒度で記述する。
- 見出しに番号は付けない。
- 必要な場合は入れ子構造を認める（見出しは `H4` まで許容）。
- 用語は同一文書内で統一する。
- 文書内に `Update History` / `更新履歴` 見出しは作らない。

## テンプレート運用
- 新規文書は `docs/codex/templates/` のテンプレートから作成する。
- テンプレートにない形式を使う場合は、先にテンプレートを追加する。

## 変更ルール
- ルール変更時は、関連テンプレートとチェックリストを同時更新する。
- 破壊的変更は影響範囲と戻し方を記載する。
- 文書更新時は `CHANGELOG.md` に履歴を追記する。

## 品質チェック
- 文書追加・更新時は `docs/codex/review-checklist.md` で自己点検する。
- Markdown lint に違反しないことを確認する。
